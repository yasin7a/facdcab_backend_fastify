model AdminUser {
  id          Int       @id @default(autoincrement())
  first_name  String
  last_name   String?
  email       String    @unique
  password    String?
  avatar      Json?
  slug        String    @unique
  is_active   Boolean   @default(true)
  is_verified Boolean   @default(true)
  dob         DateTime?
  user_type   UserType
  role_id     Int?
  role        Role?     @relation(fields: [role_id], references: [id], onUpdate: Cascade, onDelete: SetNull)
  created_at  DateTime  @default(now())
  updated_at  DateTime  @updatedAt

  @@map("admin_users")
}

// Role model
model Role {
  id          Int          @id @default(autoincrement())
  name        String
  description String?
  is_admin    Boolean
  staff       AdminUser[]
  permissions Permission[]
  created_at  DateTime     @default(now())
  updated_at  DateTime     @updatedAt

  @@unique([name])
  @@map("roles")
}

// Permission model
model Permission {
  id          Int      @id @default(autoincrement())
  role_id     Int
  module      String
  operation   String
  is_permit   Boolean
  description String?
  role        Role     @relation(fields: [role_id], references: [id], onUpdate: Cascade, onDelete: Cascade)
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt

  @@unique([role_id, module, operation])
  @@index([role_id, module])
  @@map("permissions")
}
